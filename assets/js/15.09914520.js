(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{414:function(s,e,a){"use strict";a.r(e);var r=a(2),n=Object(r.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("node  数据库的学习")])]),s._v(" "),a("h2",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),a("blockquote",[a("p",[s._v("int 整数 ; varchar(len) 字符串 ; tinyint(1)布尔值")])]),s._v(" "),a("blockquote",[a("p",[s._v("字段的标识： "),a("br"),s._v(" PK(主键，唯一标识) "),a("br"),s._v(" NN(值不允许为空)"),a("br"),s._v(" UQ(值唯一,值不允许重复)"),a("br"),s._v("AI(值自动增长) "),a("br"),s._v(" default  默认值")])]),s._v(" "),a("h2",{attrs:{id:"sql语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql语句"}},[s._v("#")]),s._v(" SQL语句")]),s._v(" "),a("blockquote",[a("p",[s._v("查询数据(select)  插入数据(insert into)  更新数据(updata)  删除数据(delete)"),a("br"),s._v(" --在SQL中才是注释符号")])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"查询数据-select"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询数据-select"}},[s._v("#")]),s._v(" 查询数据(select)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("--  通过*号把表中所有的数据查询出来\n select * from  users \n\n\n-- 从user中把username从表中查询出来 用,分割 \nselect username , password from users\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"插入数据-insert-into"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入数据-insert-into"}},[s._v("#")]),s._v(" 插入数据(insert into)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 向users表中插入新数据\ninsert into users (username,password) values ('tony','098123')//一一对应\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"更新数据-updata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新数据-updata"}},[s._v("#")]),s._v(" 更新数据(updata)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 将users表中的id为1的密码更新为123123\nupdate users set password='123123' where id=1\n\n-- 将users表中的id为2的密码更新为123123 同时将状态修改为1\nupdate users set password='123123',status=1 where id=2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"删除数据-delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除数据-delete"}},[s._v("#")]),s._v(" 删除数据(delete)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 从users表中删除id为4的\ndelete from users where id=4\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"where子句-限制条件-and-or-运算符-order-by排序-count"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where子句-限制条件-and-or-运算符-order-by排序-count"}},[s._v("#")]),s._v(" WHERE子句 (限制条件) AND OR 运算符 ORDER BY排序 count(*)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("默认情况下 是进行升序排序的\n-- 对users表中的数据按照status这个字段进行升序排序 可加asc或者不加\n select * from users order by status  asc\n\n-- 按照id对结果进行降序排序\nselect * from users order by id desc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"order-by-多种排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#order-by-多种排序"}},[s._v("#")]),s._v(" order by 多种排序")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 对users表先按照status进行降序排序 在按照username进行字母排序\nselect * from users order by status desc ,username asc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"count-统计条数-as设置count-查询后的别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#count-统计条数-as设置count-查询后的别名"}},[s._v("#")]),s._v(" COUNT("),a("em",[s._v(") 统计条数 AS设置count（")]),s._v("）查询后的别名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 统计users中status为0的条数\nselect count(*) from users  where status=0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"node中操作mysql数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node中操作mysql数据库"}},[s._v("#")]),s._v(" node中操作MySQL数据库")]),s._v(" "),a("blockquote",[a("p",[s._v("安装第三方mysql模块  "),a("br")]),a("h3",[s._v(" npm i mysql")]),a("p")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 1. 导入 mysql 模块\nconst mysql = require('mysql')\n// 2. 建立与 MySQL 数据库的连接关系\nconst db = mysql.createPool({\n  host: '127.0.0.1', // 数据库的 IP 地址\n  user: 'root', // 登录数据库的账号\n  password: 'admin123', // 登录数据库的密码\n  database: 'my_db_01', // 指定要操作哪个数据库\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("hr"),s._v(" "),a("h4",{attrs:{id:"查询users中的所有数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询users中的所有数据"}},[s._v("#")]),s._v(" 查询users中的所有数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("db.query('select * from users', (err, results) => {\n    if (err) return console.log(err.message);\n    console.log(results);\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"插入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入数据"}},[s._v("#")]),s._v(" 插入数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    //插入的数据对象\n\nconst user = { username: '方林1', password: 'pc1231' }\n    //定义待执行的sql语句\n    //?号占位符 可以先占位变量\nconst sqlstr = 'insert into users (username,password) values (?,?)'\ndb.query(sqlstr, [user.username, user.password], (err, data) => {\n    if (err) return console.log(err.message);\n    console.log(data);\n    if (data.affectedRows === 1) {\n        console.log('插入语句成功');\n    }\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("便捷式插入set ?")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const user = { username: '方林2', password: 'pc1232' }\n    //定义待执行的sql语句\nconst sqlstr = 'insert into users set ?'//set ?\ndb.query(sqlstr, user, (err, data) => {\n    if (err) return console.log(err.message);\n    console.log(data);\n    if (data.affectedRows === 1) {\n        console.log('插入语句成功');\n    }\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("hr"),s._v(" "),a("h4",{attrs:{id:"更新数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新数据"}},[s._v("#")]),s._v(" 更新数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const user = { id: 6, username: 'aaa', password: '000' }\n// 定义 SQL 语句\nconst sqlStr = 'update users set username=?, password=? where id=?'\n// 执行 SQL 语句\ndb.query(sqlStr, [user.username, user.password, user.id], (err, results) => {\n  if (err) return console.log(err.message)\n  // 注意：执行了 update 语句之后，执行的结果，也是一个对象，可以通过 affectedRows 判断是否更新成功\n  if (results.affectedRows === 1) {\n    console.log('更新成功')\n  }\n}) \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("更新数据的便捷方式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const user = { id: 6, username: 'aaaa', password: '0000' }\n// 定义 SQL 语句\nconst sqlStr = 'update users set ? where id=?'\n// 执行 SQL 语句\ndb.query(sqlStr, [user, user.id], (err, results) => {\n  if (err) return console.log(err.message)\n  if (results.affectedRows === 1) {\n    console.log('更新数据成功')\n  }\n}) \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("hr"),s._v(" "),a("h4",{attrs:{id:"删除数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除数据"}},[s._v("#")]),s._v(" 删除数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const sql=' delete from users where id=?'\n\ndb.query(qil, 7 ,(err,data)=>{\n    if(err) return console.log(err.message)\n    if(data.affectedRows== 1){\n        console.log(\"删除数据成功\")\n    }\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);